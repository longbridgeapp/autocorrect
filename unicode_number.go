package autocorrect

import "strings"

var (
	unicodeNumbers = map[string]string{
		// White Circled Number
		"â‘ ": "1", "â‘¡": "2", "â‘¢": "3", "â‘£": "4", "â‘¤": "5", "â‘¥": "6", "â‘¦": "7", "â‘§": "8", "â‘¨": "9", "â‘©": "10", "â‘ª": "11", "â‘«": "12", "â‘¬": "13", "â‘­": "14", "â‘®": "15", "â‘¯": "16", "â‘°": "17", "â‘±": "18", "â‘²": "19", "â‘³": "20",
		// Double-Circled Number
		"â“µ": "1", "â“¶": "2", "â“·": "3", "â“¸": "4", "â“¹": "5", "â“º": "6", "â“»": "7", "â“¼": "8", "â“½": "9", "â“¾": "10",
		// Black Circled Number
		"â“¿": "0", "â¶": "1", "â·": "2", "â¸": "3", "â¹": "4", "âº": "5", "â»": "6", "â¼": "7", "â½": "8", "â¾": "9", "â¿": "10", "â“«": "11", "â“¬": "12", "â“­": "13", "â“®": "14", "â“¯": "15", "â“°": "16", "â“±": "17", "â“²": "18", "â“³": "19", "â“´": "20",
		// Black Circled Number with sans-serif
		"ðŸ„Œ": "0", "âžŠ": "1", "âž‹": "2", "âžŒ": "3", "âž": "4", "âžŽ": "5", "âž": "6", "âž": "7", "âž‘": "8", "âž’": "9", "âž“": "10",
		// White Circled Letters
		"â’¶": "A", "â’·": "B", "â’¸": "C", "â’¹": "D", "â’º": "E", "â’»": "F", "â’¼": "G", "â’½": "H", "â’¾": "I", "â’¿": "J", "â“€": "K", "â“": "L", "â“‚": "M", "â“ƒ": "N", "â“„": "O", "â“…": "P", "â“†": "Q", "â“‡": "R", "â“ˆ": "S", "â“‰": "T", "â“Š": "U", "â“‹": "V", "â“Œ": "W", "â“": "X", "â“Ž": "Y", "â“": "Z",
		"â“": "a", "â“‘": "b", "â“’": "c", "â““": "d", "â“”": "e", "â“•": "f", "â“–": "g", "â“—": "h", "â“˜": "i", "â“™": "j", "â“š": "k", "â“›": "l", "â“œ": "m", "â“": "n", "â“ž": "o", "â“Ÿ": "p", "â“ ": "q", "â“¡": "r", "â“¢": "s", "â“£": "t", "â“¤": "u", "â“¥": "v", "â“¦": "w", "â“§": "x", "â“¨": "y", "â“©": "z",
		// Black Circled Letters
		"ðŸ…": "A", "ðŸ…‘": "B", "ðŸ…’": "C", "ðŸ…“": "D", "ðŸ…”": "E", "ðŸ…•": "F", "ðŸ…–": "G", "ðŸ…—": "H", "ðŸ…˜": "I", "ðŸ…™": "J", "ðŸ…š": "K", "ðŸ…›": "L", "ðŸ…œ": "M", "ðŸ…": "N", "ðŸ…ž": "O", "ðŸ…Ÿ": "P", "ðŸ… ": "Q", "ðŸ…¡": "R", "ðŸ…¢": "S", "ðŸ…£": "T", "ðŸ…¤": "U", "ðŸ…¥": "V", "ðŸ…¦": "W", "ðŸ…§": "X", "ðŸ…¨": "Y", "ðŸ…©": "Z",
		// White Squared Letters
		"ðŸ„°": "A", "ðŸ„±": "B", "ðŸ„²": "C", "ðŸ„³": "D", "ðŸ„´": "E", "ðŸ„µ": "F", "ðŸ„¶": "G", "ðŸ„·": "H", "ðŸ„¸": "I", "ðŸ„¹": "J", "ðŸ„º": "K", "ðŸ„»": "L", "ðŸ„¼": "M", "ðŸ„½": "N", "ðŸ„¾": "O", "ðŸ„¿": "P", "ðŸ…€": "Q", "ðŸ…": "R", "ðŸ…‚": "S", "ðŸ…ƒ": "T", "ðŸ…„": "U", "ðŸ……": "V", "ðŸ…†": "W", "ðŸ…‡": "X", "ðŸ…ˆ": "Y", "ðŸ…‰": "Z",
		// Black Squered Letters
		"ðŸ…°": "A", "ðŸ…±": "B", "ðŸ…²": "C", "ðŸ…³": "D", "ðŸ…´": "E", "ðŸ…µ": "F", "ðŸ…¶": "G", "ðŸ…·": "H", "ðŸ…¸": "I", "ðŸ…¹": "J", "ðŸ…º": "K", "ðŸ…»": "L", "ðŸ…¼": "M", "ðŸ…½": "N", "ðŸ…¾": "O", "ðŸ…¿": "P", "ðŸ†€": "Q", "ðŸ†": "R", "ðŸ†‚": "S", "ðŸ†ƒ": "T", "ðŸ†„": "U", "ðŸ†…": "V", "ðŸ††": "W", "ðŸ†‡": "X", "ðŸ†ˆ": "Y", "ðŸ†‰": "Z",
	}
)

// WithUnicodeNumber normalize unicode numbers
//
// â‘  â‘¡ ... â‘³, â“µ â“¶, â¶ â· -> 1 2 ... 20
//
// â’¶ â’· ... â“, ðŸ… ðŸ…‘, ðŸ„° ðŸ„±, ðŸ…° ðŸ…± -> A B ... Z
//
// â“ ... â“© -> a ... z
//
// Reference:
//
// http://xahlee.info/comp/unicode_circled_numbers.html
//
// https://www.unicode.org/charts/nameslist/n_2460.html
//
func WithUnicodeNumber() Option {
	return unicodeNumber{}
}

type unicodeNumber struct{}

func (un unicodeNumber) Format(text string) string {
	strs := strings.Split(text, "")
	for i, str := range strs {
		newChar := unicodeNumbers[str]
		if newChar != "" {
			strs[i] = newChar
			continue
		}
	}

	return strings.Join(strs, "")
}
